<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <title>Call</title>

    <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
</head>

<body>

    <script>
        var music = new Audio("https://pl3dxz-a.akamaihd.net/downloads/ringtones/files/mp3/7120-download-iphone-6-original-ringtone-42676.mp3")
        var nothing = new Audio("http://touchbasicapp.com/nothing.wav")
        var allAudio = [];
        allAudio.push(music);
        var already_tapped = false;
        var tapped = function() {
            console.log("Tapped wait to make a 'call' ");
            // Play all audio files on the first tap and stop them immediately.
            if (allAudio) {
                for (var audio of allAudio) {
                    audio.play()
                    audio.pause()
                    audio.currentTime = 0
                }
                allAudio = null
            }
            // // We should be able to play music delayed now (not during the tap event).
            setTimeout(function() {
                if (!already_tapped) {
                    $('.collapse').collapse();
                    music.play();
                    already_tapped = true;
                }
            }, 4000);
        }

        document.body.addEventListener('touchstart', tapped, false)
        document.body.addEventListener('click', tapped, false)

        function stop_audio() {
            music.pause();
            $('.collapse').hide();
            document.body.removeEventListener('touchstart', tapped, false);
            document.body.removeEventListener('click', tapped, false);
        }

        // Check if audio starts already unlocked by playing a blank wav.
        nothing.play().then(function() {
            console.log("Audio started unlocked!");
        }).catch(function() {
            console.log("Audio started locked :(");
        });
        // setTimeout(function() {
        //     music.play().then(function() {
        //         console.log("Audio is now unlocked!");
        //         // lockeddiv.innerHTML = "Audio is now unlocked!"
        //     })
        // }, 4000);
    </script>
    <style>
        .rounded {
            border-radius: 22px !important;
        }
        
        .rotate-bottom {
            transform: rotate(225deg);
        }
        
        .left {
            float: left !important;
        }
        
        .right {
            float: right !important;
        }
        
        .bg {
            background-color: rgba(52, 58, 64, 0.95)!important;
        }
        
        #navi,
        #infoi {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        #infoi {
            z-index: 10;
            position: fixed !important;
        }
        
        .action-btn {
            border: 0;
            width: 44px !important;
            height: 44px !important;
        }
        
        .no-padding {
            padding: 0 !important;
        }
        
        .resize {
            max-height: 108px !important;
        }
        
        .icon-size {
            font-size: 1.5em !important;
            padding-right: 40% !important;
/*             width: 24px !important;
            height: 24px !important;
            margin: auto !important; */
        }
    </style>

    <div id="navi" class="card">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quis in aperiam voluptate tempore repellendus exercitationem iure officiis consequatur excepturi. Nesciunt, totam expedita architecto aperiam possimus pariatur rem aut praesentium quis! Lorem ipsum
        dolor sit amet consectetur, adipisicing elit. Impedit sint nulla cum itaque animi ex, modi hic quidem fugiat adipisci autem deleniti quas accusantium assumenda, iusto mollitia, sed qui cupiditate! Lorem ipsum, dolor sit amet consectetur adipisicing
        elit. Mollitia dolor quibusdam dolorem ipsum alias fugit facilis iure nemo hic neque, nesciunt accusamus quidem adipisci laborum exercitationem sunt modi sequi voluptatem.
        <h4 class="text-center">
            <i class="fas fa-arrow-down"></i>
        </h4>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quis in aperiam voluptate tempore repellendus exercitationem iure officiis consequatur excepturi. Nesciunt, totam expedita architecto aperiam possimus pariatur rem aut praesentium quis! Lorem ipsum
        dolor sit amet consectetur, adipisicing elit. Impedit sint nulla cum itaque animi ex, modi hic quidem fugiat adipisci autem deleniti quas accusantium assumenda, iusto mollitia, sed qui cupiditate! Lorem ipsum, dolor sit amet consectetur adipisicing
        elit. Mollitia dolor quibusdam dolorem ipsum alias fugit facilis iure nemo hic neque, nesciunt accusamus quidem adipisci laborum exercitationem sunt modi sequi voluptatem.
        <h4 class="text-center">
            <i class="fas fa-arrow-down"></i>
        </h4>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quis in aperiam voluptate tempore repellendus exercitationem iure officiis consequatur excepturi. Nesciunt, totam expedita architecto aperiam possimus pariatur rem aut praesentium quis! Lorem ipsum
        dolor sit amet consectetur, adipisicing elit. Impedit sint nulla cum itaque animi ex, modi hic quidem fugiat adipisci autem deleniti quas accusantium assumenda, iusto mollitia, sed qui cupiditate! Lorem ipsum, dolor sit amet consectetur adipisicing
        elit. Mollitia dolor quibusdam dolorem ipsum alias fugit facilis iure nemo hic neque, nesciunt accusamus quidem adipisci laborum exercitationem sunt modi sequi voluptatem.
        <h4 class="text-center">
            <i class="fas fa-arrow-down"></i>
        </h4>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quis in aperiam voluptate tempore repellendus exercitationem iure officiis consequatur excepturi. Nesciunt, totam expedita architecto aperiam possimus pariatur rem aut praesentium quis! Lorem ipsum
        dolor sit amet consectetur, adipisicing elit. Impedit sint nulla cum itaque animi ex, modi hic quidem fugiat adipisci autem deleniti quas accusantium assumenda, iusto mollitia, sed qui cupiditate! Lorem ipsum, dolor sit amet consectetur adipisicing
        elit. Mollitia dolor quibusdam dolorem ipsum alias fugit facilis iure nemo hic neque, nesciunt accusamus quidem adipisci laborum exercitationem sunt modi sequi voluptatem.
        <h4 class="text-center">
            <i class="fas fa-arrow-down"></i>
        </h4>
    </div>
    <div id="infoi">
        <div class="collapse rounded" id="collapseExample">
            <div class="row ml-1 mt-1 mr-1 card card-body rounded bg call resize">
                <div class="row">
                    <div class="col-7 no-padding mt-2">
                        <span class="text-white">
                                <b class="h5">
                                    +48 123456789
                                </b>
                                </span>
                        <br>
                        <!-- <span class="h4">
                                    Page.com
                                </span> -->

                    </div>
                    <div class="col-5 no-padding"><span class="float-right">
    
                            <button class="action-btn bg-danger text-white rounded mr-2" onclick="stop_audio()">
                                <i class="fa fa-phone rotate-bottom icon-size mr-1" aria-hidden="true"></i>
                            </button>
                        <button class="action-btn bg-success text-white rounded mr-2">
                                <i class="fa fa-phone fa-flip-horizontal icon-size mr-1" aria-hidden="true"></i>
                            </button>
                        </span></div>
                </div>
            </div>
        </div>
    </div>

    <div id=lockeddiv style='font-style:italic'></div>
    <div id=messagediv style='font-style:italic'>Tap for music.</div>

</html>
